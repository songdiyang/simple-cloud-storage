{"ast":null,"code":"var _jsxFileName = \"D:\\\\cloud-storage-system\\\\frontend\\\\src\\\\pages\\\\Files.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Card, Button, Table, Modal, Form, Input, Upload, message, Space, Popconfirm, Tag, Typography, Row, Col, Tooltip } from 'antd';\nimport { UploadOutlined, FolderAddOutlined, DeleteOutlined, ShareAltOutlined, FileOutlined, FolderOutlined, ArrowLeftOutlined, CloudDownloadOutlined } from '@ant-design/icons';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title,\n  Text\n} = Typography;\nconst {\n  Dragger\n} = Upload;\nconst Files = () => {\n  _s();\n  const {\n    folderId\n  } = useParams();\n  const navigate = useNavigate();\n  const queryClient = useQueryClient();\n  const [uploadModalVisible, setUploadModalVisible] = useState(false);\n  const [folderModalVisible, setFolderModalVisible] = useState(false);\n  const [folderForm] = Form.useForm();\n  const {\n    data: folders = []\n  } = useQuery(['folders', folderId], () => api.get('/api/files/folders/', {\n    params: folderId ? {\n      parent_id: folderId\n    } : {}\n  }).then(res => res.data));\n  const {\n    data: filesData,\n    isLoading\n  } = useQuery(['files', folderId], () => api.get('/api/files/', {\n    params: folderId ? {\n      folder_id: folderId\n    } : {}\n  }).then(res => res.data), {\n    refetchOnWindowFocus: false\n  });\n  const uploadMutation = useMutation(fileObj => {\n    const data = new FormData();\n    data.append('file', fileObj);\n    if (folderId) {\n      data.append('folder_id', folderId);\n    }\n    // 为FormData请求移除Content-Type，让浏览器自动设置multipart/form-data\n    return api.post('/api/files/upload/', data, {\n      headers: {\n        'Content-Type': undefined\n      }\n    });\n  }, {\n    onSuccess: () => {\n      message.success('文件上传成功！');\n      setUploadModalVisible(false);\n      queryClient.invalidateQueries('files');\n      queryClient.invalidateQueries('storage-info');\n    },\n    onError: error => {\n      var _error$response, _error$response$data;\n      const errorMsg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || '上传失败';\n      message.error(errorMsg);\n    }\n  });\n  const createFolderMutation = useMutation(data => api.post('/api/files/folders/create/', {\n    ...data,\n    parent_id: folderId\n  }), {\n    onSuccess: () => {\n      message.success('文件夹创建成功！');\n      setFolderModalVisible(false);\n      folderForm.resetFields();\n      queryClient.invalidateQueries('folders');\n    },\n    onError: error => {\n      var _error$response2, _error$response2$data;\n      const errorMsg = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || '创建失败';\n      message.error(errorMsg);\n    }\n  });\n  const deleteFileMutation = useMutation(fileId => api.delete(`/api/files/${fileId}/delete/`), {\n    onSuccess: () => {\n      message.success('文件删除成功！');\n      queryClient.invalidateQueries('files');\n      queryClient.invalidateQueries('storage-info');\n    },\n    onError: error => {\n      var _error$response3, _error$response3$data;\n      const errorMsg = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || '删除失败';\n      message.error(errorMsg);\n    }\n  });\n  const downloadFile = async file => {\n    try {\n      message.loading('正在准备下载...', 0);\n\n      // 方式1: 获取下载URL后直接下载\n      const response = await api.get(`/api/files/${file.id}/download-url/`);\n      const {\n        download_url,\n        filename\n      } = response.data;\n\n      // 创建隐藏的a标签进行下载\n      const link = document.createElement('a');\n      link.href = download_url;\n      link.download = filename;\n      link.style.display = 'none';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      message.destroy();\n      message.success('文件下载开始！');\n    } catch (error) {\n      message.destroy();\n\n      // 如果URL下载失败，尝试直接流式下载\n      try {\n        message.loading('正在下载文件...', 0);\n        const response = await api.get(`/api/files/${file.id}/download/`, {\n          responseType: 'blob'\n        });\n\n        // 创建Blob URL\n        const blob = new Blob([response.data], {\n          type: file.mime_type\n        });\n        const url = window.URL.createObjectURL(blob);\n\n        // 创建隐藏的a标签进行下载\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = file.original_name;\n        link.style.display = 'none';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n\n        // 清理URL对象\n        window.URL.revokeObjectURL(url);\n        message.destroy();\n        message.success('文件下载完成！');\n      } catch (streamError) {\n        var _error$response4, _error$response4$data;\n        message.destroy();\n        const errorMsg = ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || streamError.message || '下载失败';\n        message.error(`下载失败: ${errorMsg}`);\n      }\n    }\n  };\n  const deleteFolderMutation = useMutation(folderId => api.delete(`/api/files/folders/${folderId}/delete/`), {\n    onSuccess: () => {\n      message.success('文件夹删除成功！');\n      queryClient.invalidateQueries('folders');\n    },\n    onError: error => {\n      var _error$response5, _error$response5$data;\n      const errorMsg = ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.error) || '删除失败';\n      message.error(errorMsg);\n    }\n  });\n  const uploadProps = {\n    name: 'file',\n    multiple: false,\n    customRequest: ({\n      file,\n      onSuccess,\n      onError\n    }) => {\n      uploadMutation.mutate(file, {\n        onSuccess: () => onSuccess(),\n        onError: error => onError(error)\n      });\n    },\n    showUploadList: false\n  };\n  const folderColumns = [{\n    title: '名称',\n    dataIndex: 'name',\n    key: 'name',\n    render: (text, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(FolderOutlined, {\n        style: {\n          color: '#fa709a',\n          fontSize: '18px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        onClick: () => navigate(`/files/${record.id}`),\n        style: {\n          padding: 0,\n          height: 'auto'\n        },\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '文件数量',\n    dataIndex: 'files_count',\n    key: 'files_count'\n  }, {\n    title: '创建时间',\n    dataIndex: 'created_at',\n    key: 'created_at',\n    render: text => new Date(text).toLocaleString()\n  }, {\n    title: '操作',\n    key: 'actions',\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: /*#__PURE__*/_jsxDEV(Popconfirm, {\n        title: \"\\u786E\\u5B9A\\u5220\\u9664\\u8FD9\\u4E2A\\u6587\\u4EF6\\u5939\\u5417\\uFF1F\",\n        onConfirm: () => deleteFolderMutation.mutate(record.id),\n        okText: \"\\u786E\\u5B9A\",\n        cancelText: \"\\u53D6\\u6D88\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"text\",\n          danger: true,\n          icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 21\n          }, this),\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this)\n  }];\n  const fileColumns = [{\n    title: '名称',\n    dataIndex: 'name',\n    key: 'name',\n    render: (text, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(FileOutlined, {\n        style: {\n          color: getFileIconColor(record.file_extension),\n          fontSize: '18px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: record.original_name,\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          ellipsis: true,\n          style: {\n            maxWidth: '200px'\n          },\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '大小',\n    dataIndex: 'size_display',\n    key: 'size_display'\n  }, {\n    title: '类型',\n    dataIndex: 'file_type',\n    key: 'file_type',\n    render: type => /*#__PURE__*/_jsxDEV(Tag, {\n      color: \"blue\",\n      children: type || '未知'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '上传时间',\n    dataIndex: 'created_at',\n    key: 'created_at',\n    render: text => new Date(text).toLocaleString()\n  }, {\n    title: '操作',\n    key: 'actions',\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"\\u4E0B\\u8F7D\\u6587\\u4EF6\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"text\",\n          icon: /*#__PURE__*/_jsxDEV(CloudDownloadOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 21\n          }, this),\n          size: \"small\",\n          onClick: () => downloadFile(record)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"\\u5206\\u4EAB\\u6587\\u4EF6\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"text\",\n          icon: /*#__PURE__*/_jsxDEV(ShareAltOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 21\n          }, this),\n          size: \"small\",\n          onClick: () => handleShareFile(record.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n        title: \"\\u786E\\u5B9A\\u5220\\u9664\\u8FD9\\u4E2A\\u6587\\u4EF6\\u5417\\uFF1F\",\n        onConfirm: () => deleteFileMutation.mutate(record.id),\n        okText: \"\\u786E\\u5B9A\",\n        cancelText: \"\\u53D6\\u6D88\",\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u5220\\u9664\\u6587\\u4EF6\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"text\",\n            danger: true,\n            icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 23\n            }, this),\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 9\n    }, this)\n  }];\n  const getFileIconColor = extension => {\n    const colorMap = {\n      '.pdf': '#ff6b6b',\n      '.doc': '#4facfe',\n      '.xls': '#43e97b',\n      '.jpg': '#fa709a',\n      '.png': '#fee140',\n      '.mp4': '#30cfd0',\n      '.mp3': '#a8edea',\n      '.zip': '#ff9a9e'\n    };\n    return colorMap[extension] || '#667eea';\n  };\n  const handleShareFile = fileId => {\n    // 这里可以添加分享逻辑\n    message.info('分享功能开发中...');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '24px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Space, {\n        children: [folderId && /*#__PURE__*/_jsxDEV(Button, {\n          icon: /*#__PURE__*/_jsxDEV(ArrowLeftOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 21\n          }, this),\n          onClick: () => navigate('/files'),\n          children: \"\\u8FD4\\u56DE\\u4E0A\\u7EA7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Title, {\n          level: 2,\n          style: {\n            color: '#333',\n            margin: 0\n          },\n          children: \"\\u6211\\u7684\\u6587\\u4EF6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Space, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 19\n          }, this),\n          onClick: () => setUploadModalVisible(true),\n          className: \"cel-button\",\n          children: \"\\u4E0A\\u4F20\\u6587\\u4EF6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          icon: /*#__PURE__*/_jsxDEV(FolderAddOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 19\n          }, this),\n          onClick: () => setFolderModalVisible(true),\n          className: \"cel-button\",\n          children: \"\\u65B0\\u5EFA\\u6587\\u4EF6\\u5939\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      gutter: [24, 24],\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"cel-card\",\n          title: \"\\u6587\\u4EF6\\u5939\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            columns: folderColumns,\n            dataSource: folders,\n            rowKey: \"id\",\n            pagination: false,\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"cel-card\",\n          title: \"\\u6587\\u4EF6\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            columns: fileColumns,\n            dataSource: (filesData === null || filesData === void 0 ? void 0 : filesData.results) || filesData || [],\n            rowKey: \"id\",\n            loading: isLoading,\n            pagination: {\n              total: filesData === null || filesData === void 0 ? void 0 : filesData.count,\n              pageSize: 20,\n              showSizeChanger: false,\n              showQuickJumper: true\n            },\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\u4E0A\\u4F20\\u6587\\u4EF6\",\n      open: uploadModalVisible,\n      onCancel: () => setUploadModalVisible(false),\n      footer: null,\n      width: 600,\n      children: /*#__PURE__*/_jsxDEV(Dragger, {\n        ...uploadProps,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ant-upload-drag-icon\",\n          children: /*#__PURE__*/_jsxDEV(UploadOutlined, {\n            style: {\n              fontSize: '48px',\n              color: '#667eea'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ant-upload-text\",\n          children: \"\\u70B9\\u51FB\\u6216\\u62D6\\u62FD\\u6587\\u4EF6\\u5230\\u6B64\\u533A\\u57DF\\u4E0A\\u4F20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ant-upload-hint\",\n          children: \"\\u652F\\u6301\\u5355\\u4E2A\\u6587\\u4EF6\\u4E0A\\u4F20\\uFF0C\\u6587\\u4EF6\\u5927\\u5C0F\\u4E0D\\u80FD\\u8D85\\u8FC7\\u7CFB\\u7EDF\\u9650\\u5236\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\u65B0\\u5EFA\\u6587\\u4EF6\\u5939\",\n      open: folderModalVisible,\n      onOk: () => folderForm.submit(),\n      onCancel: () => setFolderModalVisible(false),\n      confirmLoading: createFolderMutation.isLoading,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        form: folderForm,\n        layout: \"vertical\",\n        onFinish: values => createFolderMutation.mutate(values),\n        children: /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"name\",\n          label: \"\\u6587\\u4EF6\\u5939\\u540D\\u79F0\",\n          rules: [{\n            required: true,\n            message: '请输入文件夹名称'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"\\u8BF7\\u8F93\\u5165\\u6587\\u4EF6\\u5939\\u540D\\u79F0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 352,\n    columnNumber: 5\n  }, this);\n};\n_s(Files, \"2g7pgLgVqsmCk0rOO8RKYSSoAKQ=\", false, function () {\n  return [useParams, useNavigate, useQueryClient, Form.useForm, useQuery, useQuery, useMutation, useMutation, useMutation, useMutation];\n});\n_c = Files;\nexport default Files;\nvar _c;\n$RefreshReg$(_c, \"Files\");","map":{"version":3,"names":["React","useState","Card","Button","Table","Modal","Form","Input","Upload","message","Space","Popconfirm","Tag","Typography","Row","Col","Tooltip","UploadOutlined","FolderAddOutlined","DeleteOutlined","ShareAltOutlined","FileOutlined","FolderOutlined","ArrowLeftOutlined","CloudDownloadOutlined","useParams","useNavigate","useQuery","useMutation","useQueryClient","api","jsxDEV","_jsxDEV","Title","Text","Dragger","Files","_s","folderId","navigate","queryClient","uploadModalVisible","setUploadModalVisible","folderModalVisible","setFolderModalVisible","folderForm","useForm","data","folders","get","params","parent_id","then","res","filesData","isLoading","folder_id","refetchOnWindowFocus","uploadMutation","fileObj","FormData","append","post","headers","undefined","onSuccess","success","invalidateQueries","onError","error","_error$response","_error$response$data","errorMsg","response","createFolderMutation","resetFields","_error$response2","_error$response2$data","deleteFileMutation","fileId","delete","_error$response3","_error$response3$data","downloadFile","file","loading","id","download_url","filename","link","document","createElement","href","download","style","display","body","appendChild","click","removeChild","destroy","responseType","blob","Blob","type","mime_type","url","window","URL","createObjectURL","original_name","revokeObjectURL","streamError","_error$response4","_error$response4$data","deleteFolderMutation","_error$response5","_error$response5$data","uploadProps","name","multiple","customRequest","mutate","showUploadList","folderColumns","title","dataIndex","key","render","text","record","children","color","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","onClick","padding","height","Date","toLocaleString","_","onConfirm","okText","cancelText","danger","icon","size","fileColumns","getFileIconColor","file_extension","ellipsis","maxWidth","handleShareFile","extension","colorMap","info","marginBottom","justifyContent","alignItems","level","margin","className","gutter","span","columns","dataSource","rowKey","pagination","results","total","count","pageSize","showSizeChanger","showQuickJumper","open","onCancel","footer","width","onOk","submit","confirmLoading","form","layout","onFinish","values","Item","label","rules","required","placeholder","_c","$RefreshReg$"],"sources":["D:/cloud-storage-system/frontend/src/pages/Files.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { \n  Card, \n  Button, \n  Table, \n  Modal, \n  Form, \n  Input, \n  Upload, \n  message,\n  Space,\n  Popconfirm,\n  Tag,\n  Typography,\n  Row,\n  Col,\n  Tooltip\n} from 'antd';\nimport { \n  UploadOutlined, \n  FolderAddOutlined, \n  DeleteOutlined,\n  ShareAltOutlined,\n  FileOutlined,\n  FolderOutlined,\n  ArrowLeftOutlined,\n  CloudDownloadOutlined\n} from '@ant-design/icons';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport api from '../services/api';\n\nconst { Title, Text } = Typography;\nconst { Dragger } = Upload;\n\nconst Files = () => {\n  const { folderId } = useParams();\n  const navigate = useNavigate();\n  const queryClient = useQueryClient();\n  const [uploadModalVisible, setUploadModalVisible] = useState(false);\n  const [folderModalVisible, setFolderModalVisible] = useState(false);\n  const [folderForm] = Form.useForm();\n\n  const { data: folders = [] } = useQuery(\n    ['folders', folderId],\n    () => api.get('/api/files/folders/', { \n      params: folderId ? { parent_id: folderId } : {} \n    }).then(res => res.data)\n  );\n\n  const { data: filesData, isLoading } = useQuery(\n    ['files', folderId],\n    () => api.get('/api/files/', { \n      params: folderId ? { folder_id: folderId } : {} \n    }).then(res => res.data),\n    { refetchOnWindowFocus: false }\n  );\n\n  const uploadMutation = useMutation(\n    (fileObj) => {\n      const data = new FormData();\n      data.append('file', fileObj);\n      if (folderId) {\n        data.append('folder_id', folderId);\n      }\n      // 为FormData请求移除Content-Type，让浏览器自动设置multipart/form-data\n      return api.post('/api/files/upload/', data, {\n        headers: {\n          'Content-Type': undefined,\n        },\n      });\n    },\n    {\n      onSuccess: () => {\n        message.success('文件上传成功！');\n        setUploadModalVisible(false);\n        queryClient.invalidateQueries('files');\n        queryClient.invalidateQueries('storage-info');\n      },\n      onError: (error) => {\n        const errorMsg = error.response?.data?.error || '上传失败';\n        message.error(errorMsg);\n      }\n    }\n  );\n\n  const createFolderMutation = useMutation(\n    (data) => api.post('/api/files/folders/create/', {\n      ...data,\n      parent_id: folderId\n    }),\n    {\n      onSuccess: () => {\n        message.success('文件夹创建成功！');\n        setFolderModalVisible(false);\n        folderForm.resetFields();\n        queryClient.invalidateQueries('folders');\n      },\n      onError: (error) => {\n        const errorMsg = error.response?.data?.error || '创建失败';\n        message.error(errorMsg);\n      }\n    }\n  );\n\n  const deleteFileMutation = useMutation(\n    (fileId) => api.delete(`/api/files/${fileId}/delete/`),\n    {\n      onSuccess: () => {\n        message.success('文件删除成功！');\n        queryClient.invalidateQueries('files');\n        queryClient.invalidateQueries('storage-info');\n      },\n      onError: (error) => {\n        const errorMsg = error.response?.data?.error || '删除失败';\n        message.error(errorMsg);\n      }\n    }\n  );\n\n  const downloadFile = async (file) => {\n    try {\n      message.loading('正在准备下载...', 0);\n      \n      // 方式1: 获取下载URL后直接下载\n      const response = await api.get(`/api/files/${file.id}/download-url/`);\n      const { download_url, filename } = response.data;\n      \n      // 创建隐藏的a标签进行下载\n      const link = document.createElement('a');\n      link.href = download_url;\n      link.download = filename;\n      link.style.display = 'none';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      \n      message.destroy();\n      message.success('文件下载开始！');\n    } catch (error) {\n      message.destroy();\n      \n      // 如果URL下载失败，尝试直接流式下载\n      try {\n        message.loading('正在下载文件...', 0);\n        \n        const response = await api.get(`/api/files/${file.id}/download/`, {\n          responseType: 'blob'\n        });\n        \n        // 创建Blob URL\n        const blob = new Blob([response.data], { type: file.mime_type });\n        const url = window.URL.createObjectURL(blob);\n        \n        // 创建隐藏的a标签进行下载\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = file.original_name;\n        link.style.display = 'none';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        // 清理URL对象\n        window.URL.revokeObjectURL(url);\n        \n        message.destroy();\n        message.success('文件下载完成！');\n      } catch (streamError) {\n        message.destroy();\n        const errorMsg = error.response?.data?.error || streamError.message || '下载失败';\n        message.error(`下载失败: ${errorMsg}`);\n      }\n    }\n  };\n\n  const deleteFolderMutation = useMutation(\n    (folderId) => api.delete(`/api/files/folders/${folderId}/delete/`),\n    {\n      onSuccess: () => {\n        message.success('文件夹删除成功！');\n        queryClient.invalidateQueries('folders');\n      },\n      onError: (error) => {\n        const errorMsg = error.response?.data?.error || '删除失败';\n        message.error(errorMsg);\n      }\n    }\n  );\n\n  const uploadProps = {\n    name: 'file',\n    multiple: false,\n    customRequest: ({ file, onSuccess, onError }) => {\n      uploadMutation.mutate(file, {\n        onSuccess: () => onSuccess(),\n        onError: (error) => onError(error)\n      });\n    },\n    showUploadList: false,\n  };\n\n  const folderColumns = [\n    {\n      title: '名称',\n      dataIndex: 'name',\n      key: 'name',\n      render: (text, record) => (\n        <Space>\n          <FolderOutlined style={{ color: '#fa709a', fontSize: '18px' }} />\n          <Button \n            type=\"link\" \n            onClick={() => navigate(`/files/${record.id}`)}\n            style={{ padding: 0, height: 'auto' }}\n          >\n            {text}\n          </Button>\n        </Space>\n      ),\n    },\n    {\n      title: '文件数量',\n      dataIndex: 'files_count',\n      key: 'files_count',\n    },\n    {\n      title: '创建时间',\n      dataIndex: 'created_at',\n      key: 'created_at',\n      render: (text) => new Date(text).toLocaleString(),\n    },\n    {\n      title: '操作',\n      key: 'actions',\n      render: (_, record) => (\n        <Space>\n          <Popconfirm\n            title=\"确定删除这个文件夹吗？\"\n            onConfirm={() => deleteFolderMutation.mutate(record.id)}\n            okText=\"确定\"\n            cancelText=\"取消\"\n          >\n            <Button \n              type=\"text\" \n              danger \n              icon={<DeleteOutlined />}\n              size=\"small\"\n            />\n          </Popconfirm>\n        </Space>\n      ),\n    },\n  ];\n\n  const fileColumns = [\n    {\n      title: '名称',\n      dataIndex: 'name',\n      key: 'name',\n      render: (text, record) => (\n        <Space>\n          <FileOutlined style={{ \n            color: getFileIconColor(record.file_extension),\n            fontSize: '18px' \n          }} />\n          <Tooltip title={record.original_name}>\n            <Text ellipsis style={{ maxWidth: '200px' }}>{text}</Text>\n          </Tooltip>\n        </Space>\n      ),\n    },\n    {\n      title: '大小',\n      dataIndex: 'size_display',\n      key: 'size_display',\n    },\n    {\n      title: '类型',\n      dataIndex: 'file_type',\n      key: 'file_type',\n      render: (type) => (\n        <Tag color=\"blue\">{type || '未知'}</Tag>\n      ),\n    },\n    {\n      title: '上传时间',\n      dataIndex: 'created_at',\n      key: 'created_at',\n      render: (text) => new Date(text).toLocaleString(),\n    },\n    {\n      title: '操作',\n      key: 'actions',\n      render: (_, record) => (\n        <Space>\n          <Tooltip title=\"下载文件\">\n            <Button \n              type=\"text\" \n              icon={<CloudDownloadOutlined />}\n              size=\"small\"\n              onClick={() => downloadFile(record)}\n            />\n          </Tooltip>\n          <Tooltip title=\"分享文件\">\n            <Button \n              type=\"text\" \n              icon={<ShareAltOutlined />}\n              size=\"small\"\n              onClick={() => handleShareFile(record.id)}\n            />\n          </Tooltip>\n          <Popconfirm\n            title=\"确定删除这个文件吗？\"\n            onConfirm={() => deleteFileMutation.mutate(record.id)}\n            okText=\"确定\"\n            cancelText=\"取消\"\n          >\n            <Tooltip title=\"删除文件\">\n              <Button \n                type=\"text\" \n                danger \n                icon={<DeleteOutlined />}\n                size=\"small\"\n              />\n            </Tooltip>\n          </Popconfirm>\n        </Space>\n      ),\n    },\n  ];\n\n  const getFileIconColor = (extension) => {\n    const colorMap = {\n      '.pdf': '#ff6b6b',\n      '.doc': '#4facfe',\n      '.xls': '#43e97b',\n      '.jpg': '#fa709a',\n      '.png': '#fee140',\n      '.mp4': '#30cfd0',\n      '.mp3': '#a8edea',\n      '.zip': '#ff9a9e',\n    };\n    return colorMap[extension] || '#667eea';\n  };\n\n  const handleShareFile = (fileId) => {\n    // 这里可以添加分享逻辑\n    message.info('分享功能开发中...');\n  };\n\n  return (\n    <div>\n      <div style={{ marginBottom: '24px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <Space>\n          {folderId && (\n            <Button \n              icon={<ArrowLeftOutlined />} \n              onClick={() => navigate('/files')}\n            >\n              返回上级\n            </Button>\n          )}\n          <Title level={2} style={{ color: '#333', margin: 0 }}>\n            我的文件\n          </Title>\n        </Space>\n        \n        <Space>\n          <Button \n            type=\"primary\" \n            icon={<UploadOutlined />}\n            onClick={() => setUploadModalVisible(true)}\n            className=\"cel-button\"\n          >\n            上传文件\n          </Button>\n          <Button \n            icon={<FolderAddOutlined />}\n            onClick={() => setFolderModalVisible(true)}\n            className=\"cel-button\"\n          >\n            新建文件夹\n          </Button>\n        </Space>\n      </div>\n\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Card className=\"cel-card\" title=\"文件夹\">\n            <Table\n              columns={folderColumns}\n              dataSource={folders}\n              rowKey=\"id\"\n              pagination={false}\n              size=\"small\"\n            />\n          </Card>\n        </Col>\n\n        <Col span={24}>\n          <Card className=\"cel-card\" title=\"文件\">\n            <Table\n              columns={fileColumns}\n              dataSource={filesData?.results || filesData || []}\n              rowKey=\"id\"\n              loading={isLoading}\n              pagination={{\n                total: filesData?.count,\n                pageSize: 20,\n                showSizeChanger: false,\n                showQuickJumper: true,\n              }}\n              size=\"small\"\n            />\n          </Card>\n        </Col>\n      </Row>\n\n      {/* 上传文件模态框 */}\n      <Modal\n        title=\"上传文件\"\n        open={uploadModalVisible}\n        onCancel={() => setUploadModalVisible(false)}\n        footer={null}\n        width={600}\n      >\n        <Dragger {...uploadProps}>\n          <p className=\"ant-upload-drag-icon\">\n            <UploadOutlined style={{ fontSize: '48px', color: '#667eea' }} />\n          </p>\n          <p className=\"ant-upload-text\">点击或拖拽文件到此区域上传</p>\n          <p className=\"ant-upload-hint\">\n            支持单个文件上传，文件大小不能超过系统限制\n          </p>\n        </Dragger>\n      </Modal>\n\n      {/* 创建文件夹模态框 */}\n      <Modal\n        title=\"新建文件夹\"\n        open={folderModalVisible}\n        onOk={() => folderForm.submit()}\n        onCancel={() => setFolderModalVisible(false)}\n        confirmLoading={createFolderMutation.isLoading}\n      >\n        <Form\n          form={folderForm}\n          layout=\"vertical\"\n          onFinish={(values) => createFolderMutation.mutate(values)}\n        >\n          <Form.Item\n            name=\"name\"\n            label=\"文件夹名称\"\n            rules={[{ required: true, message: '请输入文件夹名称' }]}\n          >\n            <Input placeholder=\"请输入文件夹名称\" />\n          </Form.Item>\n        </Form>\n      </Modal>\n    </div>\n  );\n};\n\nexport default Files;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}