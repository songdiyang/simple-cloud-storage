{"ast":null,"code":"var _jsxFileName = \"D:\\\\cloud-storage-system\\\\frontend\\\\src\\\\pages\\\\Files.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Card, Button, Table, Modal, Form, Input, Upload, message, Space, Popconfirm, Tag, Typography, Row, Col, Tooltip } from 'antd';\nimport { UploadOutlined, FolderAddOutlined, DeleteOutlined, ShareAltOutlined, FileOutlined, FolderOutlined, ArrowLeftOutlined, CloudDownloadOutlined } from '@ant-design/icons';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title,\n  Text\n} = Typography;\nconst {\n  Dragger\n} = Upload;\nconst Files = () => {\n  _s();\n  const {\n    folderId\n  } = useParams();\n  const navigate = useNavigate();\n  const queryClient = useQueryClient();\n  const [uploadModalVisible, setUploadModalVisible] = useState(false);\n  const [folderModalVisible, setFolderModalVisible] = useState(false);\n  const [folderForm] = Form.useForm();\n  const {\n    data: folders = []\n  } = useQuery(['folders', folderId], () => api.get('/api/files/folders/', {\n    params: folderId ? {\n      parent_id: folderId\n    } : {}\n  }).then(res => res.data));\n  const {\n    data: filesData,\n    isLoading\n  } = useQuery(['files', folderId], () => api.get('/api/files/', {\n    params: folderId ? {\n      folder_id: folderId\n    } : {}\n  }).then(res => res.data), {\n    refetchOnWindowFocus: false\n  });\n  const uploadMutation = useMutation(formData => {\n    const data = new FormData();\n    data.append('file', formData.file.file);\n    if (folderId) {\n      data.append('folder_id', folderId);\n    }\n    return api.post('/api/files/upload/', data, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }, {\n    onSuccess: () => {\n      message.success('文件上传成功！');\n      setUploadModalVisible(false);\n      queryClient.invalidateQueries('files');\n      queryClient.invalidateQueries('storage-info');\n    },\n    onError: error => {\n      var _error$response, _error$response$data;\n      const errorMsg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || '上传失败';\n      message.error(errorMsg);\n    }\n  });\n  const createFolderMutation = useMutation(data => api.post('/api/files/folders/create/', {\n    ...data,\n    parent_id: folderId\n  }), {\n    onSuccess: () => {\n      message.success('文件夹创建成功！');\n      setFolderModalVisible(false);\n      folderForm.resetFields();\n      queryClient.invalidateQueries('folders');\n    },\n    onError: error => {\n      var _error$response2, _error$response2$data;\n      const errorMsg = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || '创建失败';\n      message.error(errorMsg);\n    }\n  });\n  const deleteFileMutation = useMutation(fileId => api.delete(`/api/files/${fileId}/delete/`), {\n    onSuccess: () => {\n      message.success('文件删除成功！');\n      queryClient.invalidateQueries('files');\n      queryClient.invalidateQueries('storage-info');\n    },\n    onError: error => {\n      var _error$response3, _error$response3$data;\n      const errorMsg = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || '删除失败';\n      message.error(errorMsg);\n    }\n  });\n  const deleteFolderMutation = useMutation(folderId => api.delete(`/api/files/folders/${folderId}/delete/`), {\n    onSuccess: () => {\n      message.success('文件夹删除成功！');\n      queryClient.invalidateQueries('folders');\n    },\n    onError: error => {\n      var _error$response4, _error$response4$data;\n      const errorMsg = ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || '删除失败';\n      message.error(errorMsg);\n    }\n  });\n  const uploadProps = {\n    name: 'file',\n    multiple: false,\n    customRequest: ({\n      file,\n      onSuccess,\n      onError\n    }) => {\n      uploadMutation.mutate({\n        file\n      }, {\n        onSuccess: () => onSuccess(),\n        onError: error => onError(error)\n      });\n    },\n    showUploadList: false\n  };\n  const folderColumns = [{\n    title: '名称',\n    dataIndex: 'name',\n    key: 'name',\n    render: (text, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(FolderOutlined, {\n        style: {\n          color: '#fa709a',\n          fontSize: '18px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        onClick: () => navigate(`/files/${record.id}`),\n        style: {\n          padding: 0,\n          height: 'auto'\n        },\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '文件数量',\n    dataIndex: 'files_count',\n    key: 'files_count'\n  }, {\n    title: '创建时间',\n    dataIndex: 'created_at',\n    key: 'created_at',\n    render: text => new Date(text).toLocaleString()\n  }, {\n    title: '操作',\n    key: 'actions',\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: /*#__PURE__*/_jsxDEV(Popconfirm, {\n        title: \"\\u786E\\u5B9A\\u5220\\u9664\\u8FD9\\u4E2A\\u6587\\u4EF6\\u5939\\u5417\\uFF1F\",\n        onConfirm: () => deleteFolderMutation.mutate(record.id),\n        okText: \"\\u786E\\u5B9A\",\n        cancelText: \"\\u53D6\\u6D88\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"text\",\n          danger: true,\n          icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 21\n          }, this),\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }, this)\n  }];\n  const fileColumns = [{\n    title: '名称',\n    dataIndex: 'name',\n    key: 'name',\n    render: (text, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(FileOutlined, {\n        style: {\n          color: getFileIconColor(record.file_extension),\n          fontSize: '18px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: record.original_name,\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          ellipsis: true,\n          style: {\n            maxWidth: '200px'\n          },\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '大小',\n    dataIndex: 'size_display',\n    key: 'size_display'\n  }, {\n    title: '类型',\n    dataIndex: 'file_type',\n    key: 'file_type',\n    render: type => /*#__PURE__*/_jsxDEV(Tag, {\n      color: \"blue\",\n      children: type || '未知'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '上传时间',\n    dataIndex: 'created_at',\n    key: 'created_at',\n    render: text => new Date(text).toLocaleString()\n  }, {\n    title: '操作',\n    key: 'actions',\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"text\",\n        icon: /*#__PURE__*/_jsxDEV(CloudDownloadOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 19\n        }, this),\n        size: \"small\",\n        onClick: () => window.open(record.swift_url),\n        disabled: !record.swift_url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"text\",\n        icon: /*#__PURE__*/_jsxDEV(ShareAltOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 19\n        }, this),\n        size: \"small\",\n        onClick: () => handleShareFile(record.id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n        title: \"\\u786E\\u5B9A\\u5220\\u9664\\u8FD9\\u4E2A\\u6587\\u4EF6\\u5417\\uFF1F\",\n        onConfirm: () => deleteFileMutation.mutate(record.id),\n        okText: \"\\u786E\\u5B9A\",\n        cancelText: \"\\u53D6\\u6D88\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"text\",\n          danger: true,\n          icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 21\n          }, this),\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this)\n  }];\n  const getFileIconColor = extension => {\n    const colorMap = {\n      '.pdf': '#ff6b6b',\n      '.doc': '#4facfe',\n      '.xls': '#43e97b',\n      '.jpg': '#fa709a',\n      '.png': '#fee140',\n      '.mp4': '#30cfd0',\n      '.mp3': '#a8edea',\n      '.zip': '#ff9a9e'\n    };\n    return colorMap[extension] || '#667eea';\n  };\n  const handleShareFile = fileId => {\n    // 这里可以添加分享逻辑\n    message.info('分享功能开发中...');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '24px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Space, {\n        children: [folderId && /*#__PURE__*/_jsxDEV(Button, {\n          icon: /*#__PURE__*/_jsxDEV(ArrowLeftOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 21\n          }, this),\n          onClick: () => navigate('/files'),\n          children: \"\\u8FD4\\u56DE\\u4E0A\\u7EA7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Title, {\n          level: 2,\n          style: {\n            color: '#333',\n            margin: 0\n          },\n          children: \"\\u6211\\u7684\\u6587\\u4EF6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Space, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 19\n          }, this),\n          onClick: () => setUploadModalVisible(true),\n          className: \"cel-button\",\n          children: \"\\u4E0A\\u4F20\\u6587\\u4EF6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          icon: /*#__PURE__*/_jsxDEV(FolderAddOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 19\n          }, this),\n          onClick: () => setFolderModalVisible(true),\n          className: \"cel-button\",\n          children: \"\\u65B0\\u5EFA\\u6587\\u4EF6\\u5939\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      gutter: [24, 24],\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"cel-card\",\n          title: \"\\u6587\\u4EF6\\u5939\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            columns: folderColumns,\n            dataSource: folders,\n            rowKey: \"id\",\n            pagination: false,\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"cel-card\",\n          title: \"\\u6587\\u4EF6\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            columns: fileColumns,\n            dataSource: (filesData === null || filesData === void 0 ? void 0 : filesData.results) || filesData || [],\n            rowKey: \"id\",\n            loading: isLoading,\n            pagination: {\n              total: filesData === null || filesData === void 0 ? void 0 : filesData.count,\n              pageSize: 20,\n              showSizeChanger: false,\n              showQuickJumper: true\n            },\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\u4E0A\\u4F20\\u6587\\u4EF6\",\n      open: uploadModalVisible,\n      onCancel: () => setUploadModalVisible(false),\n      footer: null,\n      width: 600,\n      children: /*#__PURE__*/_jsxDEV(Dragger, {\n        ...uploadProps,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ant-upload-drag-icon\",\n          children: /*#__PURE__*/_jsxDEV(UploadOutlined, {\n            style: {\n              fontSize: '48px',\n              color: '#667eea'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ant-upload-text\",\n          children: \"\\u70B9\\u51FB\\u6216\\u62D6\\u62FD\\u6587\\u4EF6\\u5230\\u6B64\\u533A\\u57DF\\u4E0A\\u4F20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ant-upload-hint\",\n          children: \"\\u652F\\u6301\\u5355\\u4E2A\\u6587\\u4EF6\\u4E0A\\u4F20\\uFF0C\\u6587\\u4EF6\\u5927\\u5C0F\\u4E0D\\u80FD\\u8D85\\u8FC7\\u7CFB\\u7EDF\\u9650\\u5236\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\u65B0\\u5EFA\\u6587\\u4EF6\\u5939\",\n      open: folderModalVisible,\n      onOk: () => folderForm.submit(),\n      onCancel: () => setFolderModalVisible(false),\n      confirmLoading: createFolderMutation.isLoading,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        form: folderForm,\n        layout: \"vertical\",\n        onFinish: values => createFolderMutation.mutate(values),\n        children: /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"name\",\n          label: \"\\u6587\\u4EF6\\u5939\\u540D\\u79F0\",\n          rules: [{\n            required: true,\n            message: '请输入文件夹名称'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"\\u8BF7\\u8F93\\u5165\\u6587\\u4EF6\\u5939\\u540D\\u79F0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 288,\n    columnNumber: 5\n  }, this);\n};\n_s(Files, \"2g7pgLgVqsmCk0rOO8RKYSSoAKQ=\", false, function () {\n  return [useParams, useNavigate, useQueryClient, Form.useForm, useQuery, useQuery, useMutation, useMutation, useMutation, useMutation];\n});\n_c = Files;\nexport default Files;\nvar _c;\n$RefreshReg$(_c, \"Files\");","map":{"version":3,"names":["React","useState","Card","Button","Table","Modal","Form","Input","Upload","message","Space","Popconfirm","Tag","Typography","Row","Col","Tooltip","UploadOutlined","FolderAddOutlined","DeleteOutlined","ShareAltOutlined","FileOutlined","FolderOutlined","ArrowLeftOutlined","CloudDownloadOutlined","useParams","useNavigate","useQuery","useMutation","useQueryClient","api","jsxDEV","_jsxDEV","Title","Text","Dragger","Files","_s","folderId","navigate","queryClient","uploadModalVisible","setUploadModalVisible","folderModalVisible","setFolderModalVisible","folderForm","useForm","data","folders","get","params","parent_id","then","res","filesData","isLoading","folder_id","refetchOnWindowFocus","uploadMutation","formData","FormData","append","file","post","headers","onSuccess","success","invalidateQueries","onError","error","_error$response","_error$response$data","errorMsg","response","createFolderMutation","resetFields","_error$response2","_error$response2$data","deleteFileMutation","fileId","delete","_error$response3","_error$response3$data","deleteFolderMutation","_error$response4","_error$response4$data","uploadProps","name","multiple","customRequest","mutate","showUploadList","folderColumns","title","dataIndex","key","render","text","record","children","style","color","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","id","padding","height","Date","toLocaleString","_","onConfirm","okText","cancelText","danger","icon","size","fileColumns","getFileIconColor","file_extension","original_name","ellipsis","maxWidth","window","open","swift_url","disabled","handleShareFile","extension","colorMap","info","marginBottom","display","justifyContent","alignItems","level","margin","className","gutter","span","columns","dataSource","rowKey","pagination","results","loading","total","count","pageSize","showSizeChanger","showQuickJumper","onCancel","footer","width","onOk","submit","confirmLoading","form","layout","onFinish","values","Item","label","rules","required","placeholder","_c","$RefreshReg$"],"sources":["D:/cloud-storage-system/frontend/src/pages/Files.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { \n  Card, \n  Button, \n  Table, \n  Modal, \n  Form, \n  Input, \n  Upload, \n  message,\n  Space,\n  Popconfirm,\n  Tag,\n  Typography,\n  Row,\n  Col,\n  Tooltip\n} from 'antd';\nimport { \n  UploadOutlined, \n  FolderAddOutlined, \n  DeleteOutlined,\n  ShareAltOutlined,\n  FileOutlined,\n  FolderOutlined,\n  ArrowLeftOutlined,\n  CloudDownloadOutlined\n} from '@ant-design/icons';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport api from '../services/api';\n\nconst { Title, Text } = Typography;\nconst { Dragger } = Upload;\n\nconst Files = () => {\n  const { folderId } = useParams();\n  const navigate = useNavigate();\n  const queryClient = useQueryClient();\n  const [uploadModalVisible, setUploadModalVisible] = useState(false);\n  const [folderModalVisible, setFolderModalVisible] = useState(false);\n  const [folderForm] = Form.useForm();\n\n  const { data: folders = [] } = useQuery(\n    ['folders', folderId],\n    () => api.get('/api/files/folders/', { \n      params: folderId ? { parent_id: folderId } : {} \n    }).then(res => res.data)\n  );\n\n  const { data: filesData, isLoading } = useQuery(\n    ['files', folderId],\n    () => api.get('/api/files/', { \n      params: folderId ? { folder_id: folderId } : {} \n    }).then(res => res.data),\n    { refetchOnWindowFocus: false }\n  );\n\n  const uploadMutation = useMutation(\n    (formData) => {\n      const data = new FormData();\n      data.append('file', formData.file.file);\n      if (folderId) {\n        data.append('folder_id', folderId);\n      }\n      return api.post('/api/files/upload/', data, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n    },\n    {\n      onSuccess: () => {\n        message.success('文件上传成功！');\n        setUploadModalVisible(false);\n        queryClient.invalidateQueries('files');\n        queryClient.invalidateQueries('storage-info');\n      },\n      onError: (error) => {\n        const errorMsg = error.response?.data?.error || '上传失败';\n        message.error(errorMsg);\n      }\n    }\n  );\n\n  const createFolderMutation = useMutation(\n    (data) => api.post('/api/files/folders/create/', {\n      ...data,\n      parent_id: folderId\n    }),\n    {\n      onSuccess: () => {\n        message.success('文件夹创建成功！');\n        setFolderModalVisible(false);\n        folderForm.resetFields();\n        queryClient.invalidateQueries('folders');\n      },\n      onError: (error) => {\n        const errorMsg = error.response?.data?.error || '创建失败';\n        message.error(errorMsg);\n      }\n    }\n  );\n\n  const deleteFileMutation = useMutation(\n    (fileId) => api.delete(`/api/files/${fileId}/delete/`),\n    {\n      onSuccess: () => {\n        message.success('文件删除成功！');\n        queryClient.invalidateQueries('files');\n        queryClient.invalidateQueries('storage-info');\n      },\n      onError: (error) => {\n        const errorMsg = error.response?.data?.error || '删除失败';\n        message.error(errorMsg);\n      }\n    }\n  );\n\n  const deleteFolderMutation = useMutation(\n    (folderId) => api.delete(`/api/files/folders/${folderId}/delete/`),\n    {\n      onSuccess: () => {\n        message.success('文件夹删除成功！');\n        queryClient.invalidateQueries('folders');\n      },\n      onError: (error) => {\n        const errorMsg = error.response?.data?.error || '删除失败';\n        message.error(errorMsg);\n      }\n    }\n  );\n\n  const uploadProps = {\n    name: 'file',\n    multiple: false,\n    customRequest: ({ file, onSuccess, onError }) => {\n      uploadMutation.mutate({ file }, {\n        onSuccess: () => onSuccess(),\n        onError: (error) => onError(error)\n      });\n    },\n    showUploadList: false,\n  };\n\n  const folderColumns = [\n    {\n      title: '名称',\n      dataIndex: 'name',\n      key: 'name',\n      render: (text, record) => (\n        <Space>\n          <FolderOutlined style={{ color: '#fa709a', fontSize: '18px' }} />\n          <Button \n            type=\"link\" \n            onClick={() => navigate(`/files/${record.id}`)}\n            style={{ padding: 0, height: 'auto' }}\n          >\n            {text}\n          </Button>\n        </Space>\n      ),\n    },\n    {\n      title: '文件数量',\n      dataIndex: 'files_count',\n      key: 'files_count',\n    },\n    {\n      title: '创建时间',\n      dataIndex: 'created_at',\n      key: 'created_at',\n      render: (text) => new Date(text).toLocaleString(),\n    },\n    {\n      title: '操作',\n      key: 'actions',\n      render: (_, record) => (\n        <Space>\n          <Popconfirm\n            title=\"确定删除这个文件夹吗？\"\n            onConfirm={() => deleteFolderMutation.mutate(record.id)}\n            okText=\"确定\"\n            cancelText=\"取消\"\n          >\n            <Button \n              type=\"text\" \n              danger \n              icon={<DeleteOutlined />}\n              size=\"small\"\n            />\n          </Popconfirm>\n        </Space>\n      ),\n    },\n  ];\n\n  const fileColumns = [\n    {\n      title: '名称',\n      dataIndex: 'name',\n      key: 'name',\n      render: (text, record) => (\n        <Space>\n          <FileOutlined style={{ \n            color: getFileIconColor(record.file_extension),\n            fontSize: '18px' \n          }} />\n          <Tooltip title={record.original_name}>\n            <Text ellipsis style={{ maxWidth: '200px' }}>{text}</Text>\n          </Tooltip>\n        </Space>\n      ),\n    },\n    {\n      title: '大小',\n      dataIndex: 'size_display',\n      key: 'size_display',\n    },\n    {\n      title: '类型',\n      dataIndex: 'file_type',\n      key: 'file_type',\n      render: (type) => (\n        <Tag color=\"blue\">{type || '未知'}</Tag>\n      ),\n    },\n    {\n      title: '上传时间',\n      dataIndex: 'created_at',\n      key: 'created_at',\n      render: (text) => new Date(text).toLocaleString(),\n    },\n    {\n      title: '操作',\n      key: 'actions',\n      render: (_, record) => (\n        <Space>\n          <Button \n            type=\"text\" \n            icon={<CloudDownloadOutlined />}\n            size=\"small\"\n            onClick={() => window.open(record.swift_url)}\n            disabled={!record.swift_url}\n          />\n          <Button \n            type=\"text\" \n            icon={<ShareAltOutlined />}\n            size=\"small\"\n            onClick={() => handleShareFile(record.id)}\n          />\n          <Popconfirm\n            title=\"确定删除这个文件吗？\"\n            onConfirm={() => deleteFileMutation.mutate(record.id)}\n            okText=\"确定\"\n            cancelText=\"取消\"\n          >\n            <Button \n              type=\"text\" \n              danger \n              icon={<DeleteOutlined />}\n              size=\"small\"\n            />\n          </Popconfirm>\n        </Space>\n      ),\n    },\n  ];\n\n  const getFileIconColor = (extension) => {\n    const colorMap = {\n      '.pdf': '#ff6b6b',\n      '.doc': '#4facfe',\n      '.xls': '#43e97b',\n      '.jpg': '#fa709a',\n      '.png': '#fee140',\n      '.mp4': '#30cfd0',\n      '.mp3': '#a8edea',\n      '.zip': '#ff9a9e',\n    };\n    return colorMap[extension] || '#667eea';\n  };\n\n  const handleShareFile = (fileId) => {\n    // 这里可以添加分享逻辑\n    message.info('分享功能开发中...');\n  };\n\n  return (\n    <div>\n      <div style={{ marginBottom: '24px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <Space>\n          {folderId && (\n            <Button \n              icon={<ArrowLeftOutlined />} \n              onClick={() => navigate('/files')}\n            >\n              返回上级\n            </Button>\n          )}\n          <Title level={2} style={{ color: '#333', margin: 0 }}>\n            我的文件\n          </Title>\n        </Space>\n        \n        <Space>\n          <Button \n            type=\"primary\" \n            icon={<UploadOutlined />}\n            onClick={() => setUploadModalVisible(true)}\n            className=\"cel-button\"\n          >\n            上传文件\n          </Button>\n          <Button \n            icon={<FolderAddOutlined />}\n            onClick={() => setFolderModalVisible(true)}\n            className=\"cel-button\"\n          >\n            新建文件夹\n          </Button>\n        </Space>\n      </div>\n\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Card className=\"cel-card\" title=\"文件夹\">\n            <Table\n              columns={folderColumns}\n              dataSource={folders}\n              rowKey=\"id\"\n              pagination={false}\n              size=\"small\"\n            />\n          </Card>\n        </Col>\n\n        <Col span={24}>\n          <Card className=\"cel-card\" title=\"文件\">\n            <Table\n              columns={fileColumns}\n              dataSource={filesData?.results || filesData || []}\n              rowKey=\"id\"\n              loading={isLoading}\n              pagination={{\n                total: filesData?.count,\n                pageSize: 20,\n                showSizeChanger: false,\n                showQuickJumper: true,\n              }}\n              size=\"small\"\n            />\n          </Card>\n        </Col>\n      </Row>\n\n      {/* 上传文件模态框 */}\n      <Modal\n        title=\"上传文件\"\n        open={uploadModalVisible}\n        onCancel={() => setUploadModalVisible(false)}\n        footer={null}\n        width={600}\n      >\n        <Dragger {...uploadProps}>\n          <p className=\"ant-upload-drag-icon\">\n            <UploadOutlined style={{ fontSize: '48px', color: '#667eea' }} />\n          </p>\n          <p className=\"ant-upload-text\">点击或拖拽文件到此区域上传</p>\n          <p className=\"ant-upload-hint\">\n            支持单个文件上传，文件大小不能超过系统限制\n          </p>\n        </Dragger>\n      </Modal>\n\n      {/* 创建文件夹模态框 */}\n      <Modal\n        title=\"新建文件夹\"\n        open={folderModalVisible}\n        onOk={() => folderForm.submit()}\n        onCancel={() => setFolderModalVisible(false)}\n        confirmLoading={createFolderMutation.isLoading}\n      >\n        <Form\n          form={folderForm}\n          layout=\"vertical\"\n          onFinish={(values) => createFolderMutation.mutate(values)}\n        >\n          <Form.Item\n            name=\"name\"\n            label=\"文件夹名称\"\n            rules={[{ required: true, message: '请输入文件夹名称' }]}\n          >\n            <Input placeholder=\"请输入文件夹名称\" />\n          </Form.Item>\n        </Form>\n      </Modal>\n    </div>\n  );\n};\n\nexport default Files;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}