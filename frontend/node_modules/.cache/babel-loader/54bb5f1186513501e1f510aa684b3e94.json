{"ast":null,"code":"import * as React from 'react';\nimport ResizeObserver from 'rc-resize-observer';\nimport MeasureCell from \"./MeasureCell\";\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nimport { useContext } from '@rc-component/context';\nimport TableContext from \"../context/TableContext\";\nexport default function MeasureRow(_ref) {\n  var prefixCls = _ref.prefixCls,\n    columnsKey = _ref.columnsKey,\n    onColumnResize = _ref.onColumnResize,\n    columns = _ref.columns;\n  var ref = React.useRef(null);\n  var _useContext = useContext(TableContext, ['measureRowRender']),\n    measureRowRender = _useContext.measureRowRender;\n  var measureRow = /*#__PURE__*/React.createElement(\"tr\", {\n    \"aria-hidden\": \"true\",\n    className: \"\".concat(prefixCls, \"-measure-row\"),\n    ref: ref,\n    tabIndex: -1\n  }, /*#__PURE__*/React.createElement(ResizeObserver.Collection, {\n    onBatchResize: function onBatchResize(infoList) {\n      if (isVisible(ref.current)) {\n        infoList.forEach(function (_ref2) {\n          var columnKey = _ref2.data,\n            size = _ref2.size;\n          onColumnResize(columnKey, size.offsetWidth);\n        });\n      }\n    }\n  }, columnsKey.map(function (columnKey) {\n    var column = columns.find(function (col) {\n      return col.key === columnKey;\n    });\n    var rawTitle = column === null || column === void 0 ? void 0 : column.title;\n    var titleForMeasure = /*#__PURE__*/React.isValidElement(rawTitle) ? /*#__PURE__*/React.cloneElement(rawTitle, {\n      ref: null\n    }) : rawTitle;\n    return /*#__PURE__*/React.createElement(MeasureCell, {\n      prefixCls: prefixCls,\n      key: columnKey,\n      columnKey: columnKey,\n      onColumnResize: onColumnResize,\n      title: titleForMeasure\n    });\n  })));\n  return measureRowRender ? measureRowRender(measureRow) : measureRow;\n}","map":{"version":3,"names":["React","ResizeObserver","MeasureCell","isVisible","useContext","TableContext","MeasureRow","_ref","prefixCls","columnsKey","onColumnResize","columns","ref","useRef","_useContext","measureRowRender","measureRow","createElement","className","concat","tabIndex","Collection","onBatchResize","infoList","current","forEach","_ref2","columnKey","data","size","offsetWidth","map","column","find","col","key","rawTitle","title","titleForMeasure","isValidElement","cloneElement"],"sources":["D:/cloud-storage-system/cloud-storage-system/frontend/node_modules/rc-table/es/Body/MeasureRow.js"],"sourcesContent":["import * as React from 'react';\nimport ResizeObserver from 'rc-resize-observer';\nimport MeasureCell from \"./MeasureCell\";\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nimport { useContext } from '@rc-component/context';\nimport TableContext from \"../context/TableContext\";\nexport default function MeasureRow(_ref) {\n  var prefixCls = _ref.prefixCls,\n    columnsKey = _ref.columnsKey,\n    onColumnResize = _ref.onColumnResize,\n    columns = _ref.columns;\n  var ref = React.useRef(null);\n  var _useContext = useContext(TableContext, ['measureRowRender']),\n    measureRowRender = _useContext.measureRowRender;\n  var measureRow = /*#__PURE__*/React.createElement(\"tr\", {\n    \"aria-hidden\": \"true\",\n    className: \"\".concat(prefixCls, \"-measure-row\"),\n    ref: ref,\n    tabIndex: -1\n  }, /*#__PURE__*/React.createElement(ResizeObserver.Collection, {\n    onBatchResize: function onBatchResize(infoList) {\n      if (isVisible(ref.current)) {\n        infoList.forEach(function (_ref2) {\n          var columnKey = _ref2.data,\n            size = _ref2.size;\n          onColumnResize(columnKey, size.offsetWidth);\n        });\n      }\n    }\n  }, columnsKey.map(function (columnKey) {\n    var column = columns.find(function (col) {\n      return col.key === columnKey;\n    });\n    var rawTitle = column === null || column === void 0 ? void 0 : column.title;\n    var titleForMeasure = /*#__PURE__*/React.isValidElement(rawTitle) ? /*#__PURE__*/React.cloneElement(rawTitle, {\n      ref: null\n    }) : rawTitle;\n    return /*#__PURE__*/React.createElement(MeasureCell, {\n      prefixCls: prefixCls,\n      key: columnKey,\n      columnKey: columnKey,\n      onColumnResize: onColumnResize,\n      title: titleForMeasure\n    });\n  })));\n  return measureRowRender ? measureRowRender(measureRow) : measureRow;\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,cAAc,MAAM,oBAAoB;AAC/C,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,SAAS,MAAM,0BAA0B;AAChD,SAASC,UAAU,QAAQ,uBAAuB;AAClD,OAAOC,YAAY,MAAM,yBAAyB;AAClD,eAAe,SAASC,UAAUA,CAACC,IAAI,EAAE;EACvC,IAAIC,SAAS,GAAGD,IAAI,CAACC,SAAS;IAC5BC,UAAU,GAAGF,IAAI,CAACE,UAAU;IAC5BC,cAAc,GAAGH,IAAI,CAACG,cAAc;IACpCC,OAAO,GAAGJ,IAAI,CAACI,OAAO;EACxB,IAAIC,GAAG,GAAGZ,KAAK,CAACa,MAAM,CAAC,IAAI,CAAC;EAC5B,IAAIC,WAAW,GAAGV,UAAU,CAACC,YAAY,EAAE,CAAC,kBAAkB,CAAC,CAAC;IAC9DU,gBAAgB,GAAGD,WAAW,CAACC,gBAAgB;EACjD,IAAIC,UAAU,GAAG,aAAahB,KAAK,CAACiB,aAAa,CAAC,IAAI,EAAE;IACtD,aAAa,EAAE,MAAM;IACrBC,SAAS,EAAE,EAAE,CAACC,MAAM,CAACX,SAAS,EAAE,cAAc,CAAC;IAC/CI,GAAG,EAAEA,GAAG;IACRQ,QAAQ,EAAE,CAAC;EACb,CAAC,EAAE,aAAapB,KAAK,CAACiB,aAAa,CAAChB,cAAc,CAACoB,UAAU,EAAE;IAC7DC,aAAa,EAAE,SAASA,aAAaA,CAACC,QAAQ,EAAE;MAC9C,IAAIpB,SAAS,CAACS,GAAG,CAACY,OAAO,CAAC,EAAE;QAC1BD,QAAQ,CAACE,OAAO,CAAC,UAAUC,KAAK,EAAE;UAChC,IAAIC,SAAS,GAAGD,KAAK,CAACE,IAAI;YACxBC,IAAI,GAAGH,KAAK,CAACG,IAAI;UACnBnB,cAAc,CAACiB,SAAS,EAAEE,IAAI,CAACC,WAAW,CAAC;QAC7C,CAAC,CAAC;MACJ;IACF;EACF,CAAC,EAAErB,UAAU,CAACsB,GAAG,CAAC,UAAUJ,SAAS,EAAE;IACrC,IAAIK,MAAM,GAAGrB,OAAO,CAACsB,IAAI,CAAC,UAAUC,GAAG,EAAE;MACvC,OAAOA,GAAG,CAACC,GAAG,KAAKR,SAAS;IAC9B,CAAC,CAAC;IACF,IAAIS,QAAQ,GAAGJ,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACK,KAAK;IAC3E,IAAIC,eAAe,GAAG,aAAatC,KAAK,CAACuC,cAAc,CAACH,QAAQ,CAAC,GAAG,aAAapC,KAAK,CAACwC,YAAY,CAACJ,QAAQ,EAAE;MAC5GxB,GAAG,EAAE;IACP,CAAC,CAAC,GAAGwB,QAAQ;IACb,OAAO,aAAapC,KAAK,CAACiB,aAAa,CAACf,WAAW,EAAE;MACnDM,SAAS,EAAEA,SAAS;MACpB2B,GAAG,EAAER,SAAS;MACdA,SAAS,EAAEA,SAAS;MACpBjB,cAAc,EAAEA,cAAc;MAC9B2B,KAAK,EAAEC;IACT,CAAC,CAAC;EACJ,CAAC,CAAC,CAAC,CAAC;EACJ,OAAOvB,gBAAgB,GAAGA,gBAAgB,CAACC,UAAU,CAAC,GAAGA,UAAU;AACrE","ignoreList":[]},"metadata":{},"sourceType":"module"}