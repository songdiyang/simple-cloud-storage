{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate}from'react-router-dom';import{Layout}from'antd';import{CloudOutlined}from'@ant-design/icons';import'./App.css';import{useAuth}from'./contexts/AuthContext';import Login from'./pages/Login';import Register from'./pages/Register';import Dashboard from'./pages/Dashboard';import Files from'./pages/Files';import Shares from'./pages/Shares';import ShareView from'./pages/ShareView';import Profile from'./pages/Profile';import Sidebar from'./components/Sidebar';import Header from'./components/Header';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Content}=Layout;function App(){const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\",children:/*#__PURE__*/_jsx(CloudOutlined,{})})});}if(!user){return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/share/:shareCode\",element:/*#__PURE__*/_jsx(ShareView,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]});}return/*#__PURE__*/_jsxs(Layout,{style:{minHeight:'100vh'},children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Content,{style:{margin:'24px 16px',padding:'24px',background:'transparent'},children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/files\",element:/*#__PURE__*/_jsx(Files,{})}),/*#__PURE__*/_jsx(Route,{path:\"/files/:folderId\",element:/*#__PURE__*/_jsx(Files,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shares\",element:/*#__PURE__*/_jsx(Shares,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/share/:shareCode\",element:/*#__PURE__*/_jsx(ShareView,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})})]})})]})]});}export default App;","map":{"version":3,"names":["React","Routes","Route","Navigate","Layout","CloudOutlined","useAuth","Login","Register","Dashboard","Files","Shares","ShareView","Profile","Sidebar","Header","jsx","_jsx","jsxs","_jsxs","Content","App","user","loading","className","children","path","element","to","replace","style","minHeight","margin","padding","background"],"sources":["D:/cloud-storage-system/cloud-storage-system/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport { Layout } from 'antd';\nimport { CloudOutlined } from '@ant-design/icons';\nimport './App.css';\n\nimport { useAuth } from './contexts/AuthContext';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\nimport Files from './pages/Files';\nimport Shares from './pages/Shares';\nimport ShareView from './pages/ShareView';\nimport Profile from './pages/Profile';\nimport Sidebar from './components/Sidebar';\nimport Header from './components/Header';\n\nconst { Content } = Layout;\n\nfunction App() {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\">\n          <CloudOutlined />\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <Routes>\n        <Route path=\"/login\" element={<Login />} />\n        <Route path=\"/register\" element={<Register />} />\n        <Route path=\"/share/:shareCode\" element={<ShareView />} />\n        <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\n      </Routes>\n    );\n  }\n\n  return (\n    <Layout style={{ minHeight: '100vh' }}>\n      <Sidebar />\n      <Layout>\n        <Header />\n        <Content style={{ \n          margin: '24px 16px', \n          padding: '24px',\n          background: 'transparent'\n        }}>\n          <Routes>\n            <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n            <Route path=\"/dashboard\" element={<Dashboard />} />\n            <Route path=\"/files\" element={<Files />} />\n            <Route path=\"/files/:folderId\" element={<Files />} />\n            <Route path=\"/shares\" element={<Shares />} />\n            <Route path=\"/profile\" element={<Profile />} />\n            <Route path=\"/share/:shareCode\" element={<ShareView />} />\n            <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n          </Routes>\n        </Content>\n      </Layout>\n    </Layout>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}